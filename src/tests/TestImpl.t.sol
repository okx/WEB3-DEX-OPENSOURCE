pragma solidity 0.8.20;

import "forge-std/Test.sol";

contract ImplTest is Test {
    function setUp() public {}

    // function test_upgrade_xlayer_20240417() public {
    //     address dexRouter = 0x127a986cE31AA2ea8E1a6a0F0D5b7E5dbaD7b0bE;
    //     address newImpl = 0x16f37072FFcE9A563C59E13759d2fAE47AE52E5a;
    //     vm.createSelectFork("https://rpc.xlayer.tech", 501169 - 1);
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     address user = 0x00607Bc08b113D3599E5dF567B8C501d832cefc3;
    //     bytes
    //         memory data = hex"b80c2f090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000dcb18df94df54751a3b50fa91688658be55c12780000000000000000000000001e4a5963abfd975d8c9021ce480b42188849d41d00000000000000000000000000000000000000017a4ae32d4500a94d3570c098000000000000000000000000000000000000000000000000000000000456af2f00000000000000000000000000000000000000000000000000000000661f5494000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000660000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000017a4ae32d4500a94d3570c0980000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000dcb18df94df54751a3b50fa91688658be55c127800000000000000000000000000000000000000000000000000000000000000010000000000000000000000002706c60251a5e365478874104fa790f5d49a7cc90000000000000000000000000000000000000000000000000000000000000001000000000000000000000000567c19d7973b8e2f6f4b27490b1c4bb13a93e9ff0000000000000000000000000000000000000000000000000000000000000001000000000000000000002710567c19d7973b8e2f6f4b27490b1c4bb13a93e9ff000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000e538905cf8410324e03a5a23c1c177a474d59b2b00000000000000000000000000000000000000000000000000000000000000010000000000000000000000007daf29d2000fd29d5c4b28bd4f1956fe9948d07800000000000000000000000000000000000000000000000000000000000000010000000000000000000000007daf29d2000fd29d5c4b28bd4f1956fe9948d0780000000000000000000000000000000000000000000000000000000000000001800000000000000000002710af02239c392f966798c31bcef767d531a805755c0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000e538905cf8410324e03a5a23c1c177a474d59b2b0000000000000000000000001e4a5963abfd975d8c9021ce480b42188849d41d0000000000000000000000000000000000000000000000000000000000000bb80000000000000000000000000000000000000000000000000000000000000000";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call(data);
    //     require(s);
    // }

    // function test_upgrade_okc_20240418() public {
    //     address dexRouter = 0xf6Aab105CB9e66e03CAD2c2F3f8558242593385c;
    //     address newImpl = 0xFA574f8B3152504E391E53FfF6e55E3Ee56e0889;
    //     vm.createSelectFork(
    //         "https://oktc-mainnet.public.blastapi.io",
    //         27141535 - 1
    //     );
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     address user = 0x9712ff0BF90ccCf29f8c1076f5ec7B84727008dc;
    //     vm.deal(user, 20 ether);
    //     bytes
    //         memory data = hex"b80c2f090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee000000000000000000000000382bb369d343125bfb2117af9c149795c6c65c50000000000000000000000000000000000000000000000000d02ab486cedc00000000000000000000000000000000000000000000000000000004e9827db317da00000000000000000000000000000000000000000000000000000000ff2056ec000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000a20000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000095e14ec7763800000000000000000000000000000000000000000000000000003a4965bf58a400000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002600000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001600000000000000000000000008f8526dbfd6e38e3d8307702ca8469bae6c56c1500000000000000000000000000000000000000000000000000000000000000010000000000000000000000005eae840294c757e6fffe462e9c989944386613d40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f3098211d012ff5380a03d80f150ac6e5753caa80000000000000000000000000000000000000000000000000000000000000001800000000000000000002710f3098211d012ff5380a03d80f150ac6e5753caa80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000240000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001600000000000000000000000008f8526dbfd6e38e3d8307702ca8469bae6c56c1500000000000000000000000000000000000000000000000000000000000000010000000000000000000000005eae840294c757e6fffe462e9c989944386613d40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000aea843a6715d091f7a5644ed4fcca479820bd18a0000000000000000000000000000000000000000000000000000000000000001000000000000000000002710aea843a6715d091f7a5644ed4fcca479820bd18a000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000df54b6c6195ea4d948d03bfd818d365cf175cfc200000000000000000000000000000000000000000000000000000000000000010000000000000000000000005eae840294c757e6fffe462e9c989944386613d40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000562f8cf1e7a5f72e01452c6bceebd4cd3399cb940000000000000000000000000000000000000000000000000000000000000001800000000000000000002710562f8cf1e7a5f72e01452c6bceebd4cd3399cb94000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000dcac52e001f5bd413aa6ea83956438f29098166b00000000000000000000000000000000000000000000000000000000000000010000000000000000000000005eae840294c757e6fffe462e9c989944386613d40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000401b38543dd93a07c2d139b7d1cdb24a3c7df3c40000000000000000000000000000000000000000000000000000000000000001800000000000000000002710401b38543dd93a07c2d139b7d1cdb24a3c7df3c400000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call{value: 15 ether}(data);
    //     require(s);
    // }

    // function test_upgrade_scroll_20240419() public {
    //     address dexRouter = 0x6b2C0c7be2048Daa9b5527982C29f48062B34D58;
    //     address newImpl = 0xD58bD6B60d088CB65Df04d3a6D9b0dF30E026a25;
    //     vm.createSelectFork("https://rpc.ankr.com/scroll", 4933593 - 1);
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     vm.warp(1);
    //     address user = 0xc88369F57867bC37642CdEd7c645FCd85AE8822D;
    //     vm.deal(user, 20 ether);
    //     bytes
    //         memory data = hex"9871efa400000000002e46f004cb12c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002386f26fc100000000000000000000000000000000000000000000000000000000000001b17bc60000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000180000000000000003b74a4606562e87944e4d6ccf9839c662db32e6b19f72cde";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call{value: 0.01 ether}(data);
    //     require(s);
    //     user = 0x88cB91a1873127f55589e08628853324428a93a5;
    //     data = hex"9871efa400000000002e46f741a3090006efdbff2a14a7c8e15944d1f4a48f9f95f663a400000000000000000000000000000000000000000000000000000000023300ea000000000000000000000000000000000000000000000000002ce69d868e17760000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000140000000000000003b6d03406905c59be1a7ea32d1f257e302401ec9a1401c52";
    //     vm.startPrank(user);
    //     (s, ) = dexRouter.call(data);
    //     require(s);
    // }

    // function test_upgrade_op_20240430() public {
    //     address dexRouter = 0xf332761c673b59B21fF6dfa8adA44d78c12dEF09;
    //     address newImpl = 0x62a7b6eb6A5d2DcAa05Bf53C7272afd9dA460a2c;
    //     //on-chain tx:https://optimistic.etherscan.io/tx/0xf7811949ece5ac6cd4afdc1c0fa6a2b33d0bd3219ef263395b24d454bb35e76c
    //     vm.createSelectFork(
    //         "https://1rpc.io/op",
    //         119431459 - 1
    //     );
    //     require(newImpl.code.length > 0, "not work");
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     address user = 0x52f33c5425af4f02dA64806A7d364c600900D222;
    //     bytes
    //         memory data = hex"b80c2f09000000000000000000000000000000000000000000000000002e80943345b2000000000000000000000000007f5c764cbc14f9669b88837ca1490cca17c316070000000000000000000000008700daec35af8ff88c16bdf0418774cb3d7599b40000000000000000000000000000000000000000000000000000000000000dce0000000000000000000000000000000000000000000000000004303b4e7ad71a000000000000000000000000000000000000000000000000000000006630aa0b00000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000046000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000dce000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001600000000000000000000000007f5c764cbc14f9669b88837ca1490cca17c316070000000000000000000000000000000000000000000000000000000000000001000000000000000000000000443ef018e182d409bcf7f794d409bcea4c73c2c70000000000000000000000000000000000000000000000000000000000000001000000000000000000000000443ef018e182d409bcf7f794d409bcea4c73c2c70000000000000000000000000000000000000000000000000000000000000001000000000000000000002710320616dbe138aa2f3db7a5a46ba79a13032cc5f20000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000600000000000000000000000007f5c764cbc14f9669b88837ca1490cca17c316070000000000000000000000008700daec35af8ff88c16bdf0418774cb3d7599b40000000000000000000000000000000000000000000000000000000000000bb80000000000000000000000000000000000000000000000000000000000000000";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call(data);
    //     require(s);
    // }

    // function test_upgrade_arb_20240430() public {
    //     address dexRouter = 0xf332761c673b59B21fF6dfa8adA44d78c12dEF09;
    //     address newImpl = 0x62a7b6eb6A5d2DcAa05Bf53C7272afd9dA460a2c;
    //     //on-chain tx: https://arbiscan.io/tx/0x3619b65c3183dda27fe287f01f1b44431c49d2ddf17580863b9ec8c72c53e8f8
    //     vm.createSelectFork(
    //         "https://1rpc.io/arb",
    //         206306648 - 1
    //     );
    //     require(newImpl.code.length > 0, "not work");
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     address user = 0x2fc78eA55965C4122F7FDB9D5c3790E34CA11373;
    //     bytes
    //         memory data = hex"b80c2f0900000000000000000000000000000000000000000000000000000000000187a0000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc80000000000000000000000005d3a1ff2b6bab83b63cd9ad0787074081a52ef340000000000000000000000000000000000000000000000000000000002f8d7f8000000000000000000000000000000000000000000000002ae4cc5334e16b5b0000000000000000000000000000000000000000000000000000000006630aac30000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000006e000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000002f8d7f8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc800000000000000000000000000000000000000000000000000000000000000010000000000000000000000004e3bcce28caf98a143fd8bd9e4875ccab3e7bbe000000000000000000000000000000000000000000000000000000000000000010000000000000000000000004e3bcce28caf98a143fd8bd9e4875ccab3e7bbe00000000000000000000000000000000000000000000000000000000000000001800000000000000000002710c86eb7b85807020b4548ee05b54bfc956eebbfcd0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000040000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc8000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e583100000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e58310000000000000000000000000000000000000000000000000000000000000001000000000000000000000000bd4991108f931da96f5b4d7cd39d5c8e558a0d2d0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000bd4991108f931da96f5b4d7cd39d5c8e558a0d2d00000000000000000000000000000000000000000000000000000000000000018000000000000000000027109043825771e9285ee07d07637558a4daf222ab470000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e58310000000000000000000000005d3a1ff2b6bab83b63cd9ad0787074081a52ef3400000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc83ca20afc2aaa00000000000a69d097fbe4c9eb7c2f48d20df5e93746e09214d6";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call(data);
    //     require(s);
    // }

    // function test_upgrade_avax_20240430() public {
    //     address dexRouter = 0x1daC23e41Fc8ce857E86fD8C1AE5b6121C67D96d;
    //     address newImpl = 0xfb719654604f44Df1D5CbfeA736095444D5F6c88;
    //     //on-chain tx: https://snowtrace.io/tx/0x26a0e09ddfdb11b91fcdec90c27569baeeb87f13baad86fc075646c9b2ada873?chainId=43114
    //     vm.createSelectFork(
    //         "https://1rpc.io/avax/c",
    //         44845141 - 1
    //     );
    //     require(newImpl.code.length > 0, "not work");
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     address user = 0xaa0ad8558d75fdE508813434E6c75e1689a3e742;
    //     bytes
    //         memory data = hex"b80c2f09000000000000000000000000000000000000000000000000002e80869401b44000000000000000000000000049d5c2bdffac6ce2bfdb6640f4f80f226bc10bab0000000000000000000000009702230a8ea53601f5cd2dc00fdbc13d4df4a8c700000000000000000000000000000000000000000000000000c63942c50b44c6000000000000000000000000000000000000000000000000000000000a6e4a61000000000000000000000000000000000000000000000000000000006630a68e0000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000009a0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000c63942c50b44c6000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000056000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000049d5c2bdffac6ce2bfdb6640f4f80f226bc10bab0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000be882fb094143b59dc5335d32cecb711570ebdd40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000be882fb094143b59dc5335d32cecb711570ebdd400000000000000000000000000000000000000000000000000000000000000010000000000000000000027107b602f98d71715916e7c963f51bfebc754ade2d00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006000000000000000000000000049d5c2bdffac6ce2bfdb6640f4f80f226bc10bab000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c700000000000000000000000000000000000000000000000000000000000001f400000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c70000000000000000000000000000000000000000000000000000000000000001000000000000000000000000be882fb094143b59dc5335d32cecb711570ebdd40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000be882fb094143b59dc5335d32cecb711570ebdd40000000000000000000000000000000000000000000000000000000000000001000000000000000000002710fae3f424a0a47706811521e3ee268f00cfb5c45e0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c7000000000000000000000000b97ef9ef8734c71904d8002f8b6bc66dd9c48a6e00000000000000000000000000000000000000000000000000000000000001f400000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000b97ef9ef8734c71904d8002f8b6bc66dd9c48a6e0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000be882fb094143b59dc5335d32cecb711570ebdd40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000be882fb094143b59dc5335d32cecb711570ebdd40000000000000000000000000000000000000000000000000000000000000001800000000000000000002710804226ca4edb38e7ef56d16d16e92dc3223347a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000b97ef9ef8734c71904d8002f8b6bc66dd9c48a6e0000000000000000000000009702230a8ea53601f5cd2dc00fdbc13d4df4a8c700000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000000";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call(data);
    //     require(s);
    // }

    // function test_upgrade_bsc_20240429() public {
    //     address dexRouter = 0x9333C74BDd1E118634fE5664ACA7a9710b108Bab;
    //     address newImpl = 0x801D8ED849039007a7170830623180396492c7ED;
    //     vm.createSelectFork("https://rpc.ankr.com/bsc", 38281541 - 1);
    //     require(newImpl.code.length > 0, "not work");
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     //https://bscscan.com/tx/0xf5c8367a3c5196cd781ce89d523f78e7b740d00a5f211b31badb3303ad72adff        address user = 0xE473FFd8Cb6efE326068E336817cDa2485F0A3C2;
    //     address user = 0xE473FFd8Cb6efE326068E336817cDa2485F0A3C2;
    //     bytes
    //         memory data = hex"b80c2f09000000000000000000000000000000000000000000000000002e7c1fb0b8a2c000000000000000000000000055d398326f99059ff775485246999027b3197955000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee000000000000000000000000000000000000000000000008a0b367c403460b2d00000000000000000000000000000000000000000000000003b74e3a644dd04100000000000000000000000000000000000000000000000000000000662f86130000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000004600000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000008a0b367c403460b2d000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000055d398326f99059ff775485246999027b31979550000000000000000000000000000000000000000000000000000000000000001000000000000000000000000ae7fcef300495de4afda82c1a369fa312b0ed9b80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000ae7fcef300495de4afda82c1a369fa312b0ed9b8000000000000000000000000000000000000000000000000000000000000000100000000000000000000271047a90a2d92a8367a91efa1906bfc8c1e05bf10c40000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006000000000000000000000000055d398326f99059ff775485246999027b3197955000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c00000000000000000000000000000000000000000000000000000000000000640000000000000000000000000000000000000000000000000000000000000000";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call(data);
    //     require(s);
    // }

    // function test_upgrade_ftm_20240429() public {
    //     address dexRouter = 0xf332761c673b59B21fF6dfa8adA44d78c12dEF09;
    //     address newImpl = 0x1Da57aFA94200d7D195aB7Bd1da5E6cBC147680d;
    //     vm.createSelectFork("https://fantom-mainnet.public.blastapi.io", 80152935 - 1);
    //     require(newImpl.code.length > 0, "not work");
    //     vm.store(
    //         dexRouter,
    //         0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
    //         bytes32(uint256(uint160(newImpl)))
    //     );
    //     //https://ftmscan.com/tx/0x4c34e39e8b9abb4bb6c647a51738f4408fde0f39c212a30a7be776de60800a5d
    //     address user = 0x9086048C31FD1018bE91C3da14296c5D037eE613;
    //     bytes
    //         memory data = hex"b80c2f09000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044f7237df00e386af8e79b817d05ed9f6fe0f296000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000d049c8c2fc6f8a000000000000000000000000000000000000000000000000974dd65f6360cdc200000000000000000000000000000000000000000000000000000000662f7183000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000d049c8c2fc6f8a000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000044f7237df00e386af8e79b817d05ed9f6fe0f29600000000000000000000000000000000000000000000000000000000000000010000000000000000000000001ed4ae8dce02a398465bb276abf114ce06f424eb00000000000000000000000000000000000000000000000000000000000000010000000000000000000000001ed4ae8dce02a398465bb276abf114ce06f424eb0000000000000000000000000000000000000000000000000000000000000001000000000000000000002710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000044f7237df00e386af8e79b817d05ed9f6fe0f29600000000000000000000000021be370d5312f44cb42ce377bc9b8a0cef1a4c839af1f0e9ac9c844a4a4439d446c14378071830750001000000000000000000da0000000000000000000000000000000000000000000000000000000000000000";
    //     vm.startPrank(user);
    //     (bool s, ) = dexRouter.call(data);
    //     require(s);
    // }

    function test_upgrade_manta_20240506() public {
        address dexRouter = 0x6b2C0c7be2048Daa9b5527982C29f48062B34D58;
        address newImpl = 0xFA574f8B3152504E391E53FfF6e55E3Ee56e0889;
        //on-chain tx: https://manta.socialscan.io/tx/0xa6325df136f1776e926bbacd47d4f8a81d1787c9c3661bca5f81be11b25f204b
        vm.createSelectFork(
            "https://1rpc.io/manta",
            2076472 - 1
        );
        require(newImpl.code.length > 0, "not work");
        vm.store(
            dexRouter,
            0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
            bytes32(uint256(uint160(newImpl)))
        );
        address user = 0x78Fe9cB131cC63f02E47A9C00bb793FFd72E7460;
        bytes
            memory data = hex"b80c2f09000000000000000000000000000000000000000000000000002e9ffd3507b34000000000000000000000000095cef13441be50d20ca4558cc0a27b601ac544e5000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee0000000000000000000000000000000000000000000000001bc16d674ec800000000000000000000000000000000000000000000000000000004212ee9d1e91a000000000000000000000000000000000000000000000000000000006638b48b00000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000046000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000001bc16d674ec80000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000095cef13441be50d20ca4558cc0a27b601ac544e500000000000000000000000000000000000000000000000000000000000000010000000000000000000000002e3329902b725bd1ae774fb3dacbae0626820db400000000000000000000000000000000000000000000000000000000000000010000000000000000000000002e3329902b725bd1ae774fb3dacbae0626820db4000000000000000000000000000000000000000000000000000000000000000180000000000000000000271066e354c61f877574a97c501335e1fe93da114f240000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006000000000000000000000000095cef13441be50d20ca4558cc0a27b601ac544e50000000000000000000000000dc808adce2099a9f62aa87d9670745aba7417460000000000000000000000000000000000000000000000000000000000000bb80000000000000000000000000000000000000000000000000000000000000000";
        vm.startPrank(user);
        (bool s, ) = dexRouter.call(data);
        require(s);
    }

    function test_upgrade_zeta_20240506() public {
        address dexRouter = 0x0DaB5A5294AfAae76Ce990993fC10b896A01DBd1;
        address newImpl = 0xFA574f8B3152504E391E53FfF6e55E3Ee56e0889;
        //on-chain tx: https://explorer.zetachain.com/evm/tx/0xf8a77063bbd83d247d819bfb9717c321eab5500b883dd5640cafbda0c72dff1a
        vm.createSelectFork(
            "https://zetachain-evm.blockpi.network/v1/rpc/public",
            2936131 - 1
        );
        require(newImpl.code.length > 0, "not work");
        vm.store(
            dexRouter,
            0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
            bytes32(uint256(uint160(newImpl)))
        );
        address user = 0x10D74344b3B5db6B090130B08a55a605328ea179;
        bytes
            memory data = hex"9871efa40000000000000000000000007c8dda80bbbe1254a7aacf3219ebe1481c6e01d7000000000000000000000000000000000000000000000000000000000020866000000000000000000000000000000000000000000000000010334007425f7cdf00000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001c0000000000000003b6d03403f2f671b4286fb3014892697a23085ac5e13f228";
        vm.startPrank(user);
        (bool s, ) = dexRouter.call(data);
        require(s);
    }

    function test_upgrade_merlin_20240507() public {
        address dexRouter = 0x127a986cE31AA2ea8E1a6a0F0D5b7E5dbaD7b0bE;
        address newImpl = 0xFA574f8B3152504E391E53FfF6e55E3Ee56e0889;
        //on-chain tx: https://scan.merlinchain.io/tx/0x6ececc3ea45f834da7acc2ccb60e9927802e112523baf1767e0ae4517248d5a0
        vm.createSelectFork(
            "https://rpc.merlinchain.io",
            10954600 - 1
        );
        require(newImpl.code.length > 0, "not work");
        vm.store(
            dexRouter,
            0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
            bytes32(uint256(uint160(newImpl)))
        );
        address user = 0xc3A65A60073a1204bAb78fE5Bc01556A1Da0539F;
        bytes
            memory data = hex"b80c2f09000000000000000000000000000000000000000000000000002ea394cb65c940000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee000000000000000000000000480e158395cc5b41e5584347c495584ca2caf78d00000000000000000000000000000000000000000000000000005af3107a4000000000000000000000000000000000000000000000000000753b50c89534d8880000000000000000000000000000000000000000000000000000000066399ff50000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000003e0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000005af3107a4000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000f6d226f9dc15d9bb51182815b320d3fbe324e1ba000000000000000000000000000000000000000000000000000000000000000100000000000000000000000002d0131e5cc86766e234ebf1ebe33444443b98a3000000000000000000000000000000000000000000000000000000000000000100000000000000000000000002d0131e5cc86766e234ebf1ebe33444443b98a30000000000000000000000000000000000000000000000000000000000000001800000000000000000002710453efb70b21f9e4a37f7b181a99d63817d0313d1000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000040000000000000000000000000f6d226f9dc15d9bb51182815b320d3fbe324e1ba000000000000000000000000480e158395cc5b41e5584347c495584ca2caf78d0000000000000000000000000000000000000000000000000000000000000000";
        vm.startPrank(user);
        (bool s, ) = dexRouter.call{value: 0.0001 ether}(data);
        require(s);
    }


    function test_upgrade_ftm_20240429() public {
        address dexRouter = 0xf332761c673b59B21fF6dfa8adA44d78c12dEF09;
        address newImpl = 0x1Da57aFA94200d7D195aB7Bd1da5E6cBC147680d;
        vm.createSelectFork("https://fantom-mainnet.public.blastapi.io", 80152935 - 1);
        require(newImpl.code.length > 0, "not work");
        vm.store(
            dexRouter,
            0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
            bytes32(uint256(uint160(newImpl)))
        );
        //https://ftmscan.com/tx/0x4c34e39e8b9abb4bb6c647a51738f4408fde0f39c212a30a7be776de60800a5d
        address user = 0x9086048C31FD1018bE91C3da14296c5D037eE613;
        bytes
            memory data = hex"b80c2f09000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044f7237df00e386af8e79b817d05ed9f6fe0f296000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000d049c8c2fc6f8a000000000000000000000000000000000000000000000000974dd65f6360cdc200000000000000000000000000000000000000000000000000000000662f7183000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000d049c8c2fc6f8a000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000044f7237df00e386af8e79b817d05ed9f6fe0f29600000000000000000000000000000000000000000000000000000000000000010000000000000000000000001ed4ae8dce02a398465bb276abf114ce06f424eb00000000000000000000000000000000000000000000000000000000000000010000000000000000000000001ed4ae8dce02a398465bb276abf114ce06f424eb0000000000000000000000000000000000000000000000000000000000000001000000000000000000002710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000044f7237df00e386af8e79b817d05ed9f6fe0f29600000000000000000000000021be370d5312f44cb42ce377bc9b8a0cef1a4c839af1f0e9ac9c844a4a4439d446c14378071830750001000000000000000000da0000000000000000000000000000000000000000000000000000000000000000";
        vm.startPrank(user);
        (bool s, ) = dexRouter.call(data);
        require(s);
    }

    function test_upgrade_cro_20240506() public {
        address dexRouter = 0xf332761c673b59B21fF6dfa8adA44d78c12dEF09;
        address newImpl = 0x801D8ED849039007a7170830623180396492c7ED;
        vm.createSelectFork("https://cronos.drpc.org", 13810244 - 1);
        require(newImpl.code.length > 0, "not work");
        vm.store(
            dexRouter,
            0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc,
            bytes32(uint256(uint160(newImpl)))
        );
        //https://cronoscan.com/tx/0x2bfc16352def1512274486c62d30960c2ba026e36b58d08aa7637e65126cdc96
        address user = 0xEA522Fe3A65874bA3CEC38e912220282b7C71E97;
        bytes
            memory data = hex"9871efa400000000002ea0293a56b44000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000001f4430000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000003b6d0340e61db569e231b3f5530168aa2c9d50246525b6d6";
        vm.startPrank(user);
        (bool s, ) = dexRouter.call{value: 1 ether}(data);
        require(s);
    }

}
